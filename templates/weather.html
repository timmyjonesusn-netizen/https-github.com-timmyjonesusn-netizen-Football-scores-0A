{% extends "base.html" %}
{% block content %}
  <h1>Weather</h1>

  <!-- Status lights -->
  <div id="wx-status" class="wx-status" aria-live="polite">
    <span class="wx-label">Conditions</span>
    <span class="signal green" id="sig-green" title="Good"></span>
    <span class="signal yellow" id="sig-yellow" title="Wind ≥ 20 mph"></span>
    <span class="signal red" id="sig-red" title="Wind ≥ 40 mph or Alert"></span>
    <span class="wx-text" id="wx-text">checking…</span>
  </div>

  <!-- Values from server -->
  <div id="wx-data"
       data-wind-mph="{{ weather.wind_mph|int }}"
       data-has-alert="{{ 'true' if weather.has_alert else 'false' }}">
  </div>

  <section class="card">
    <h2>Right Now</h2>
    <p>Wind: <strong>{{ weather.wind_mph|int }} mph</strong> —
      Alerts: <strong>{{ 'Yes' if weather.has_alert else 'No' }}</strong></p>
    <p class="meta">Try <code>?wind=27</code> or <code>?wind=45&alert=true</code> in the URL for a quick test.</p>
  </section>
{% endblock %}
